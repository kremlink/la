@include exports("@path:components\_main.scss"){/*@path:components\_main.scss*/
  @include kfs(ov-before){
    20%{
      max-width:0;
      max-height:100vh;
      border:1px solid #000;
    }
    53%,73%{
      max-width:177.7777vh;
      max-height:100vh;
      opacity:1;
      border:0;
    }
    100%{
      max-height:100vh;
      max-width:177.7777vh;
      opacity:0;
      border:0;
    }
  };

  .overlay-block{
    @include abs($t:0,$b:0,$l:0,$r:0);
    z-index:1;
    visibility:hidden;
    &.shown{
      visibility:visible;
      transition-duration:0s;
      .ov-before{
        animation:ov-before 1.5s ease-in-out forwards;
      }
    }
    .ov-before{
      max-width:0;
      max-height:0;
      border:1px solid #000;
      width:100%;
      overflow:hidden;
      pointer-events:none;
      height:56.25vw; //h:w=9/16
      @include center();
      &:before,&:after{
        content:'';
        background: url(#{$path}pop_shtorka.png) 100% 0/contain no-repeat;
        position:absolute;
        width:100%;
        height:100%;
      }
      &:before{
        transform:scale(-1,1);
      }
      svg{
        @include abs($l:calc(50% - 50vw),$t:calc(50% - 50vh));
        width:100vw;
        height:100vh;
        opacity:0.5;
      }
    }

    .ov-wrap{
      width:100%;
      height:56.25vw; //h:w=9/16
      max-height:100vh;
      max-width:177.7777vh; //16/9=1.778
      overflow:hidden;
      margin-top:-5000px;
      opacity:0;
      @include trs('opacity #{$anim} ease-in-out #{$anim*3}');
      @include center();
      &.shown{
        margin-top:0;
        opacity:1;
      }
    }
    //---
    /*
   @keyframes p-b-clip{
      0%,100%{clip-path:polygon(0 0,100% 0,100% 2px,0 2px);}
      25%{clip-path:polygon(0 0,2px 0,2px 100%,0 100%);}
      50%{clip-path:polygon(0 calc(100% - 2px),100% calc(100% - 2px),100% 100%,0 100%);}
      75%{clip-path:polygon(calc(100% - 2px) 0,100% 0,100% 100%,calc(100% - 2px) 100%);}
    }
    @keyframes p-b-pulse{
      0% {
        @include trf(scale(.9));
      }
      70% {
        @include trf(scale(1));
        box-shadow:0 0 0 20px #fff;
      }
      100% {
        @include trf(scale(.9));
        box-shadow:0 0 0 0 #fff;
      }
    }

    .pulse-btn{
      @include center($b:15%);
      width:11.25%;
      height:20%;
      background:rgba(#000,0.5);
      border-radius:50%;
      cursor:pointer;
    }
    .p-b-clip{
      @include abs($l:30%,$t:30%);
      @include trf(rotate(45deg));
      width:40%;
      height:40%;
      background:rgba(#000,0.5);
      &:before,&:after{
        content:'';
        @include abs($l:-10%,$r:-10%,$t:-10%,$b:-10%);
        z-index:-1;
        box-shadow:inset 0 0 0 1px #fff;
        animation:p-b-clip 8s linear infinite;
      }
      &:before{
        animation-delay:-4s;
      }
    }
    .p-b-pulse{
      border-radius:50%;
      box-shadow:0 0 0 0 rgba(#fff,.5);
      animation:p-b-pulse 1.5s infinite;
      @include abs($l:15%,$t:15%);
      width:70%;
      height:70%;
      background:#fff;
    }*/
    //---
  }
  //---
  .ov-video{
    width:100%;
    height:100%;
    position:absolute;
    background: center/contain no-repeat;
    @include trs('opacity #{$anim/2} ease-in-out');
    &.hidden{
      opacity:0;
    }
  }
  //---
  @include kfs(timer-notif){
    0%{
      opacity:0;
    }
    10%{
      opacity:1;
    }
    90%{
      opacity:1;
    }
    100%{
      opacity:0;
    }
  };

  .the-anim{
    @include abs($r:0,$t:0);
    width:11.54%;
    opacity:0;
    z-index:1;
    @include trs('opacity #{$anim} ease-in-out #{$anim*5}');
    .timer &{
      opacity:1;
    }
    img{
      width:100%;
    }
  }
  .the-timer{
    z-index:1;
    font-size:0.8em;
    padding:0 4em 8em*64/330 4em;
    color:#fff;
    opacity:0;
    visibility:hidden;
    text-align:center;
    @include abs($t:50%,$r:50%);
    @include trf(translate(50%,-50%));
    @include trs('opacity #{$anim} ease-in-out #{$anim*2},top #{$anim*4} ease-out #{$anim*5},right #{$anim*4} ease-out #{$anim*5},transform #{$anim*4} ease-out #{$anim*5}');
    &.continued{
      @include trs('opacity #{$anim} ease-in-out');
    }
    .timer &{
      visibility:visible;
      opacity:1;
      top:20px;
      right:2px;
      transform:none;
    }
    .the-t-bg{
      @include abs($l:0,$t:0);
      width:100%;
      height:100%;
    }
    .the-t-text{
      @include center();
      white-space:nowrap;
    }
    .the-t-pop{
      @include center($r:120%);
      white-space:nowrap;
      opacity:0;
      color:#fff;
      &.rem{
        @include anim('timer-notif 6s linear reverse');
      }
    }
  }
  //other
  .loader-pop{
    @include abs($l:0,$r:0,$t:0,$b:0);
    @include trs('opacity #{$anim} ease-in-out');
    z-index:1;
    background:rgb(34,33,36) radial-gradient(circle, rgba(34,33,36,1) 0%, rgba(24,23,26,1) 100%);
    .loaded &{
      opacity:0;
      pointer-events:none;
    }
    .bg{
      position:absolute;
      width:100%;
      height:100%;
      background:center/cover;
    }
    .l{
      position:absolute;
      width:100%;
      height:100%;
      background:url(#{$path}loader.svg) center no-repeat;
    }
  }
  .orientation-pop{
    color:#fff;
    @include abs($l:0,$r:0,$t:0,$b:0);
    display:none;
    font-size:30px;
    line-height:30px;
    z-index:1;
    @include flx(justify-content,center);
    @include flx(align-items,center);
    .too-small &{
      @include flx(display,flex);
    }
    .bg{
      position:absolute;
      width:100%;
      height:100%;
      background:center/cover;
    }
    .text{
      @include center();
      width:80%;
    }
  }
  .start-pop{
    @include abs($l:0,$r:0,$t:0,$b:0);
    @include flx(display,flex);
    background:#000;
    cursor:pointer;
    z-index:1;
    @include trs('opacity #{$anim} ease-in-out');
    &:hover{
      div:nth-child(3){
        opacity:1;
      }
    }
    .start &{
      opacity:0;
      pointer-events:none;
    }
    div{
      position:absolute;
      width:100%;
      height:100%;
      background:center/cover;
      @include trs('opacity #{$anim*3} ease-in-out');
      &:nth-child(3){
        opacity:0;
      }
    }
  }
}